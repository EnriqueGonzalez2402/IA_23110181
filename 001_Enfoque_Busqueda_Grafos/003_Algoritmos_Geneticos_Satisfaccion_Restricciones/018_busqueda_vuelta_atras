# Ejemplo simple: tres variables X, Y, Z con dominio {1,2,3}
variables = ['X', 'Y', 'Z']
domains = {v: [1,2,3] for v in variables}

# Restricciones: X != Y, Y != Z, X != Z
def constraints(assignment):
    if 'X' in assignment and 'Y' in assignment and assignment['X'] == assignment['Y']:
        return False
    if 'Y' in assignment and 'Z' in assignment and assignment['Y'] == assignment['Z']:
        return False
    if 'X' in assignment and 'Z' in assignment and assignment['X'] == assignment['Z']:
        return False
    return True

print("17️⃣ CSP básico listo, dominios y restricciones definidos")

def backtracking(assignment={}):
    # Si todas las variables están asignadas, devolvemos la solución
    if len(assignment) == len(variables):
        return assignment

    # Escogemos una variable sin asignar
    unassigned = [v for v in variables if v not in assignment]
    var = unassigned[0]

    for value in domains[var]:
        # Intentamos asignar un valor
        local_assignment = assignment.copy()
        local_assignment[var] = value

        # Comprobamos restricciones
        if constraints(local_assignment):
            result = backtracking(local_assignment)
            if result:
                return result  # Solución encontrada

    return None  # Retrocedemos si ningún valor es válido

solution_bt = backtracking()
print("18️⃣ Backtracking:", solution_bt)